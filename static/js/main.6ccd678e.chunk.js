(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{16:function(e,t,r){},17:function(e,t,r){},18:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){"use strict";r.r(t);var s=r(10),n=r.n(s),c=r(7),a=r(2),o=r(3),i=r(5),l=r(4),d=r(6),u=r.n(d),h=r(1),j=r.n(h),p=(r(16),r(17),r(18),r(9)),b=r.n(p),f=r(0),m=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(a.a)(this,r);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={filterValue:"",sortBy:""},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.filterValue,s=t.sortBy,n=this.props,c=n.allTodos,a=n.selectedUserId,o=n.selectUser,i=c;switch(s){case"all":i=c;break;case"active":i=c.filter((function(e){return!1===e.completed}));break;case"completed":i=c.filter((function(e){return!0===e.completed}))}return r&&(i=i.filter((function(e){return e.title.includes(r)}))),Object(f.jsxs)("div",{className:"TodoList",children:[Object(f.jsx)("h2",{children:"Todos:"}),Object(f.jsxs)("div",{className:"TodoList__list-container",children:[Object(f.jsx)("ul",{className:"TodoList__list",children:i.map((function(e){return Object(f.jsxs)("li",{className:b()("TodoList__item",{"TodoList__item--unchecked":!1===e.completed,"TodoList__item--checked":!0===e.completed}),children:[Object(f.jsxs)("label",{htmlFor:e.id.toString(),children:[Object(f.jsx)("input",{id:e.id.toString(),type:"checkbox",readOnly:!0,checked:e.completed}),Object(f.jsx)("p",{children:e.title})]}),Object(f.jsx)("button",{className:b()("TodoList__user-button","button",{"TodoList__user-button--selected":e.userId===a}),type:"button",onClick:function(){return o(e.userId)},children:"User #".concat(e.userId)})]},e.id)}))}),Object(f.jsxs)("select",{name:"sortBy",className:"TodoList__select",onChange:function(t){return e.setState({sortBy:t.target.value})},children:[Object(f.jsx)("option",{value:"",children:"Select filter"}),Object(f.jsx)("option",{value:"all",children:"ALL"}),Object(f.jsx)("option",{value:"active",children:"ACTIVE"}),Object(f.jsx)("option",{value:"completed",children:"COMPLETED"})]}),Object(f.jsxs)("label",{htmlFor:"filter",children:[Object(f.jsx)("input",{id:"filter",className:"TodoList__filter",type:"text",name:"filterValue",value:r,onChange:function(t){return e.setState({filterValue:t.target.value})}}),"Enter keyword"]})]})]})}}]),r}(j.a.Component),O=(r(20),function(e){return fetch("".concat("https://mate.academy/students-api").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))}),v=function(e){return O("/users/".concat(e))},x=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(a.a)(this,r);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={user:null},e.loader=Object(c.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e.props.userId);case 2:r=t.sent,e.setState({user:r});case 4:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.loader()}},{key:"componentDidUpdate",value:function(e){e.userId!==this.props.userId&&this.loader()}},{key:"render",value:function(){var e=this,t=this.state.user;return t?Object(f.jsxs)("div",{className:"CurrentUser",children:[Object(f.jsx)("h2",{className:"CurrentUser__title",children:Object(f.jsx)("span",{children:"Selected user: ".concat(t.id)})}),Object(f.jsx)("h3",{className:"CurrentUser__name",children:t.name}),Object(f.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(f.jsx)("p",{className:"CurrentUser__phone",children:t.phone}),Object(f.jsx)("button",{type:"button",className:"CurrentUser__clear",onClick:function(){return e.props.clearSelectedUser()},children:"CLEAR"})]}):Object(f.jsx)("h2",{children:"No user data"})}}]),r}(j.a.Component),_=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(a.a)(this,r);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={selectedUserId:0,allTodos:[],hasLoadingError:!1},e.selectUser=function(t){e.setState({selectedUserId:t})},e.clearSelectedUser=function(){e.setState({selectedUserId:0})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=Object(c.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("/todos");case 3:t=e.sent,this.setState({allTodos:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({hasLoadingError:!0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.selectedUserId,r=e.allTodos,s=e.hasLoadingError;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{className:"App__sidebar",children:[s&&Object(f.jsx)("h2",{children:"No response, please try again later"}),Object(f.jsx)(m,{allTodos:r,selectedUserId:t,selectUser:this.selectUser})]}),Object(f.jsx)("div",{className:"App__content",children:Object(f.jsx)("div",{className:"App__content-container",children:t?Object(f.jsx)(x,{userId:t,clearSelectedUser:this.clearSelectedUser}):Object(f.jsx)("h2",{children:"No user selected"})})})]})}}]),r}(j.a.Component),y=_;n.a.render(Object(f.jsx)(y,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6ccd678e.chunk.js.map